{"version":3,"sources":["reducers/notificationReducer.js","services/anecdotes.js","reducers/anecdoteReducer.js","reducers/filterReducer.js","store.js","components/AnecdoteForm.js","components/AnecdoteList.js","components/Notification.js","components/Filter.js","App.js","index.js"],"names":["timeoutID","baseUrl","getAll","a","axios","get","response","data","createNew","content","object","votes","post","update","id","newObject","put","reducer","state","action","type","anecdoteToChange","find","changedAnecdote","map","anecdote","sort","b","newNotification","seconds","dispatch","clearTimeout","setTimeout","notificationReducer","filterReducer","filter","combineReducers","anecdotes","anecdoteReducer","notifications","store","createStore","composeWithDevTools","applyMiddleware","thunk","connect","createAnecdote","anecdoteService","newAnecdote","props","addAnecdote","event","preventDefault","target","value","onSubmit","name","Anecdote","handleClick","onClick","Anecdotes","useDispatch","useSelector","toLowerCase","includes","votedAnecdote","key","style","border","padding","borderWidth","Filter","marginBottom","onChange","App","useEffect","AnecdoteForm","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.d23e11dd.chunk.js","sourcesContent":["const notificationReducer = (state = '', action) => {\n  switch (action.type) {\n  case 'NEW_NOTIFICATION':\n    return action.data.content\n  case 'REMOVE':\n    state = ''\n    return state\n  default:\n    return state\n  }\n}\n\nlet timeoutID\n\nexport const newNotification = (content, seconds) => {\n  return async dispatch => {\n    dispatch({\n      type: 'NEW_NOTIFICATION',\n      data: { content }\n    })\n    clearTimeout(timeoutID)\n    timeoutID = setTimeout(() => {\n      dispatch({\n        type: 'REMOVE'\n      })\n    }, seconds*1000)\n  }\n}\n\n\n\n\nexport default notificationReducer","import axios from 'axios'\n\nconst baseUrl = '/api/anecdotes'\n\nconst getAll = async () => {\n  const response = await axios.get(baseUrl)\n  return response.data\n}\n\nconst createNew = async (content) => {\n  const object = { content, votes: 0 }\n  const response = await axios.post(baseUrl, object)\n  return response.data\n}\n\nconst update = async (id) => {\n  const object = await axios.get(`${baseUrl}/${id}`)\n\n  const newObject = {\n    content: object.data.content,\n    id: object.data.id,\n    votes: object.data.votes + 1\n  }\n  const response = await axios.put(`${baseUrl}/${id}`, newObject)\n  return response.data\n}\n\nexport default { getAll, createNew, update }","import anecdoteService from '../services/anecdotes'\n\nconst reducer = (state = [], action) => {\n  switch (action.type) {\n  case 'NEW_ANECDOTE':\n    return [...state, action.data]\n  case 'INIT_ANECDOTES':\n    return action.data\n  case 'VOTE':\n  {const id = action.data.id\n    const anecdoteToChange = state.find(a => a.id === id)\n    const votes = anecdoteToChange.votes\n    const changedAnecdote = {\n      ...anecdoteToChange,\n      votes: votes + 1\n    }\n    return state.map(anecdote =>\n      anecdote.id !== id ? anecdote : changedAnecdote \n    ).sort((a,b) => b.votes - a.votes)}\n  default:\n    return state\n  }\n}\n\n\nexport const createAnecdote = content => {\n  return async dispatch => {\n    const newAnecdote = await anecdoteService.createNew(content)\n    dispatch({\n      type: 'NEW_ANECDOTE',\n      data: newAnecdote\n    })\n  }\n}\n\nexport const vote = (id) => {\n  return async dispatch => {\n    const votedAnecdote = await anecdoteService.update(id)\n    dispatch({\n      type: 'VOTE',\n      data: votedAnecdote\n    })\n  }\n}\n\nexport const initializeAnecdotes = () => {\n  return async dispatch => {\n    const anecdotes = await anecdoteService.getAll()\n    dispatch({\n      type: 'INIT_ANECDOTES',\n      data: anecdotes,\n    })\n  }\n}\n\n\nexport default reducer","const initialState = ''\n\nconst filterReducer = (state = initialState, action) => {\n  switch (action.type) {\n  case 'SET_FILTER':\n    return action.data.filter\n  default:\n    return state\n  }\n}\n  \nexport const filterChange = (filter) => {\n  return {\n    type: 'SET_FILTER',\n    data: {\n      filter\n    }\n  }\n}\n  \nexport default filterReducer","import { createStore, combineReducers, applyMiddleware } from 'redux'\nimport thunk from 'redux-thunk'\nimport { composeWithDevTools } from 'redux-devtools-extension'\n\nimport anecdoteReducer from './reducers/anecdoteReducer'\nimport notificationReducer from './reducers/notificationReducer'\nimport filterReducer from './reducers/filterReducer'\n\nconst reducer = combineReducers({\n  anecdotes: anecdoteReducer,\n  notifications: notificationReducer,\n  filter: filterReducer\n})\n\nconst store = createStore(\n  reducer,\n  composeWithDevTools(applyMiddleware(thunk))\n)\n\nexport default store","import React from 'react'\nimport { connect } from 'react-redux'\nimport { createAnecdote } from '../reducers/anecdoteReducer'\nimport { newNotification} from '../reducers/notificationReducer'\n\nconst NewAnecdote = (props) => {\n\n  const addAnecdote = async (event) => {\n    event.preventDefault()\n    const content = event.target.anecdote.value\n    event.target.anecdote.value = ''\n    props.createAnecdote(content)\n    props.newNotification(`you created '${content}'`, 3)\n  }\n\n\n  return (\n    <div>\n      <h2>create new</h2>\n      <form onSubmit={addAnecdote}>\n        <input id=\"create-anecdote\" name=\"anecdote\" />\n        <button id= \"add-button\" type=\"submit\">add</button>\n      </form>\n    </div>\n\n  )\n}\n\n\nexport default connect(null, { createAnecdote, newNotification })(NewAnecdote) ","import React from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { vote } from '../reducers/anecdoteReducer'\nimport { newNotification} from '../reducers/notificationReducer'\n\nconst Anecdote = ({ anecdote, handleClick }) => {\n  return (\n    <div key={anecdote.id}>\n      <div>\n        {anecdote.content}\n      </div>\n      <div>\n             has {anecdote.votes}\n        <button onClick={handleClick}>vote</button>\n      </div>\n    </div>\n  )\n}\n\n\nconst Anecdotes = () => {\n  const dispatch = useDispatch()\n  const anecdotes = useSelector(state => state.anecdotes)\n  const filter = useSelector(state => state.filter)\n   \n    \n\n  return (\n    anecdotes.map(anecdote => anecdote.content.toLowerCase().includes(filter.toLowerCase()) ? (\n      <Anecdote\n        key={anecdote.key}\n        anecdote={anecdote}\n        handleClick={() => {\n          dispatch(vote(anecdote.id))\n          dispatch(newNotification(`you voted for ${anecdote.content}`, 3))\n        }\n\n        }\n      />\n\n    ) : <></>\n    )\n  )\n}\n\nexport default Anecdotes","import React from 'react'\nimport { connect } from 'react-redux'\n// import { useSelector } from 'react-redux'\n\nconst Notification = (props) => {\n \n  const style = {\n    border: 'solid',\n    padding: 10,\n    borderWidth: 1\n  }\n  if (!props.notifications) return null\n\n  return (\n    <div style={style}>\n      {props.notifications}\n    </div>\n  )\n}\n\nconst mapStateToProps = (state) => {\n  return {\n    notifications: state.notifications\n  }\n}\n\nexport default connect(mapStateToProps)(Notification)\n","import React from 'react'\nimport { useDispatch } from 'react-redux'\nimport { filterChange } from '../reducers/filterReducer'\n\nconst Filter = () => {\n\n  const dispatch = useDispatch()\n\n  const handleChange = (event) => {\n    // input-kentän arvo muuttujassa event.target.value\n    dispatch(filterChange(event.target.value))\n  }\n  const style = {\n    marginBottom: 10\n  }\n\n  return (\n    <div style={style}>\n      filter <input onChange={handleChange} />\n    </div>\n  )\n}\n\nexport default Filter","import React, {useEffect} from 'react'\nimport AnecdoteForm from './components/AnecdoteForm'\nimport AnecdotesList from './components/AnecdoteList'\nimport Notification from './components/Notification'\nimport Filter from './components/Filter'\nimport { initializeAnecdotes } from './reducers/anecdoteReducer'\nimport { useDispatch } from 'react-redux'\n\nconst App = () => {\n  const dispatch = useDispatch()\n\n  useEffect(() => {\n    dispatch(initializeAnecdotes()) \n  },[dispatch]) \n\n  return (\n    <div>\n      <h2>Anecdotes</h2>\n      <Notification />\n      <Filter />\n      <AnecdotesList />\n      <AnecdoteForm/>\n    </div>\n  )\n}\n\nexport default App","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport { Provider } from 'react-redux'\nimport store from './store'\nimport App from './App'\n\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root')\n)"],"sourceRoot":""}